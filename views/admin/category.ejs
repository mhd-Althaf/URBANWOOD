<%-include("../../views/partials/admin/header")%>
  <!-- partial -->
  <div class="main-panel">

    <!-- content-wrapper ends -->
    <div class="card-body">


      <div class="table-responsive">
        <table class="table">
          <thead>
            <tr>
              <th>Name</th>
              <th>Description</th>
              <th>Category Offer</th>
              <th>Is Listed</th>
              <th>Update</th>
              <th>status</th>
              <th>List / Unlist</th>
            </tr>
          </thead>
          <tbody>
            <% categories.forEach(function(categories) { %>
              <tr>
                <td>
                  <%= categories.name %>
                </td>
                <td>
                  <%= categories.description %>
                </td>
                <td>
                  <%= categories.categoryOffer %>
                </td>
                <td>
                  <%= categories.isListed ? 'Yes' : 'No' %>
                </td>
                <td><a href="/admin/editCategory/<%= categories._id %>"><label
                      class="badge badge-success">Update</label></a></td>
                <td>
                  <% if (categories.isListed) { %>
                    <span class="badge rounded-pill alert-success">Listed</span>
                    <% } else { %>
                      <span class="badge rounded-pill alert-danger">Unlisted</span>
                      <% } %>
                </td>
                <td>
                  <% if (categories.isListed) { %>
                    <button class="btn btn-danger" style="width: 70px">
                      <a href="/admin/unlistCategory?id=<%= categories._id %>" class="text-white">Unlist</a>
                    </button>
                    <% } else { %>
                      <button class="btn btn-success" style="width: 70px">
                        <a href="/admin/listCategory?id=<%= categories._id %>" class="text-white">List</a>
                      </button>
                      <% } %>
                </td>
              </tr>
              <% }); %>
          </tbody>
        </table>
        <!-- Pagination -->
        <div class="pagination-container text-center mt-4">
          <nav aria-label="Page navigation">
            <ul class="pagination justify-content-center">
              <% if (currentPage> 1) { %>
                <li class="page-item">
                  <a class="page-link" href="?page=<%= currentPage - 1 %>" aria-label="Previous">
                    <span aria-hidden="true">&laquo;</span>
                  </a>
                </li>
                <% } else { %>
                  <li class="page-item disabled">
                    <span class="page-link" aria-label="Previous">
                      <span aria-hidden="true">&laquo;</span>
                    </span>
                  </li>
                  <% } %>

                    <!-- Pagination Numbers -->
                    <% for (let i=1; i <=totalPages; i++) { %>
                      <% if (i===currentPage) { %>
                        <li class="page-item active">
                          <span class="page-link">
                            <%= i %>
                          </span>
                        </li>
                        <% } else { %>
                          <li class="page-item">
                            <a class="page-link" href="?page=<%= i %>">
                              <%= i %>
                            </a>
                          </li>
                          <% } %>
                            <% } %>

                              <% if (currentPage < totalPages) { %>
                                <li class="page-item">
                                  <a class="page-link" href="?page=<%= currentPage + 1 %>" aria-label="Next">
                                    <span aria-hidden="true">&raquo;</span>
                                  </a>
                                </li>
                                <% } else { %>
                                  <li class="page-item disabled">
                                    <span class="page-link" aria-label="Next">
                                      <span aria-hidden="true">&raquo;</span>
                                    </span>
                                  </li>
                                  <% } %>
            </ul>
          </nav>
        </div>



        <a href="/admin/addCategory"> <button>add category</button></a>
      </div>
    </div>

  </div>

  </div>

  </div>

  <!-- plugins:js -->
  <script src="/assets/vendors/js/vendor.bundle.base.js"></script>
  <!-- endinject -->
  <!-- Plugin js for this page -->
  <script src="/assets/vendors/chart.js/Chart.min.js"></script>
  <script src="/assets/vendors/progressbar.js/progressbar.min.js"></script>
  <script src="/assets/vendors/jvectormap/jquery-jvectormap.min.js"></script>
  <script src="/assets/vendors/jvectormap/jquery-jvectormap-world-mill-en.js"></script>
  <script src="/assets/vendors/owl-carousel-2/owl.carousel.min.js"></script>
  <!-- End plugin js for this page -->
  <!-- inject:js -->
  <script src="/assets/js/off-canvas.js"></script>
  <script src="/assets/js/hoverable-collapse.js"></script>
  <script src="/assets/js/misc.js"></script>
  <script src="/assets/js/settings.js"></script>
  <script src="/assets/js/todolist.js"></script>
  <!-- endinject -->
  <!-- Custom js for this page -->
  <script src="/assets/js/dashboard.js"></script>

  <script>

    function handleFormSubmit(event) {
      event.preventDefault();
      if (!validateForm()) {
        return
      }
    }


    function validateForm() {
      clearErrorMessages();
      const name = document.getElementsByName("name")[0].value.trim();
      const description = document.getElementById("descriptionId").value.trim();
    }






  </script>

  <!-- End custom js for this page -->
  </body>

  </html>